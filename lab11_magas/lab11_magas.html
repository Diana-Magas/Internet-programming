<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <title>Лабораторна 11</title>
    <script src="js/jquery-3.7.1.min.js"></script>
    <style>
      .demo-box {
        margin: 10px;
        padding: 10px;
        border: 1px solid #333;
      }
      .demo-box {
        margin: 10px;
        padding: 10px;
        border: 1px solid #333;
        background-color: #f1f2f6;
      }
      .button {
        padding: 8px 15px;
        margin: 5px;
        border: none;
        border-radius: 5px;
        background-color: #0097e6;
        color: #fff;
        cursor: pointer;
      }
      .button:hover {
        background-color: #40739e;
      }
      .container {
        border: 1px solid #2f3640;
        padding: 20px;
        margin: 10px;
        background-color: #f5f6fa;
      }
      .button {
        margin: 5px;
        padding: 8px 15px;
        border: none;
        border-radius: 5px;
        background-color: #0097e6;
        color: #fff;
        cursor: pointer;
      }
      .button:hover {
        background-color: #40739e;
      }
      .result {
        margin: 10px;
        padding: 10px;
        border: 1px dashed #718093;
        background-color: #dcdde1;
      }
    </style>
  </head>
  <body>
    <h2>Завдання 1</h2>

    <div id="html_demo" class="demo-box">Старий HTML-вміст</div>
    <div id="css_demo" class="demo-box">CSS приклад</div>

    <input id="val_demo" class="demo-box" value="Старе значення" type="text" />

    <div id="attr_demo1" class="demo-box" title="Старий заголовок">
      Приклад attr1
    </div>
    <div id="attr_demo2" class="demo-box" title="Старий заголовок">
      Приклад attr2
    </div>
    <div id="attr_demo3" class="demo-box">Приклад attr3</div>
    <div id="attr_demo4" class="demo-box" title="Старий заголовок">
      Приклад attr4
    </div>

    <input
      id="remove_attr_demo"
      class="demo-box"
      type="text"
      disabled
      value="Блоковане поле"
    />

    <h2>Завдання 2</h2>
    <div id="prepend_demo" class="demo-box">
      Абзац для демонстрації <b>prepend()</b>
    </div>

    <button id="clone_demo" class="button">Клонувати цю кнопку</button>

    <div id="height_demo" class="demo-box" style="height: 50px">
      Блок для демонстрації height()
    </div>

    <div id="outerHeight_demo" class="demo-box" style="height: 80px">
      Натисни на мене для outerHeight()
    </div>

    <h2>Завдання 3</h2>
    <div id="parent_div" class="container">
      <p>Параграф 1</p>
      <p>Параграф 2</p>
      <div id="stop_div">
        <div id="child_div" class="special">Дочірній елемент</div>
      </div>
    </div>

    <button id="btn_children" class="button">.children()</button>
    <button id="btn_is" class="button">.is()</button>
    <button id="btn_parents" class="button">.parents()</button>
    <button id="btn_closest" class="button">.closest()</button>
    <button id="btn_parentsUntil" class="button">.parentsUntil()</button>

    <div id="result" class="result">Результат буде тут</div>
  </body>
  <h2>Завдання 4</h2>
  <ul id="task4_list" class="demo-box">
    <li class="filter-item">Елемент 1</li>
    <li class="filter-item">Елемент 2</li>
    <li class="filter-item">Елемент 3</li>
    <li class="filter-item">Елемент 4</li>
    <li class="filter-item">Елемент 5</li>
    <li class="filter-item">Елемент 6</li>
  </ul>

  <button id="btn_filter_class" class="button">
    Змінити стиль всіх .filter-item
  </button>
  <button id="btn_filter_every3" class="button">
    Змінити стиль кожного 3-го li
  </button>

  <h2>Завдання 5</h2>
  <button id="btn_extend" class="button">$.extend()</button>
  <button id="btn_fn_extend" class="button">$.fn.extend()</button>
  <button id="btn_globalEval" class="button">$.globalEval()</button>
  <button id="btn_grep" class="button">$.grep()</button>

  <div id="task5_result" class="result"></div>

  <script>
    $(document).ready(function () {
      $("#html_demo").html("<b>Новий HTML-вміст</b>");

      $("#css_demo").css({
        color: "white",
        "background-color": "teal",
        padding: "10px",
      });

      $("#val_demo").val("Нове значення");

      $("#attr_demo1").attr("title");
      $("#attr_demo2").attr("title", "Новий підпис");
      $("#attr_demo3").attr({ "data-role": "user", "data-id": "123" });
      $("#attr_demo4").attr("title", function (i, val) {
        return val + " (оновлено)";
      });

      $("#remove_attr_demo").removeAttr("disabled");
    });
    $(document).ready(function () {
      $("#prepend_demo").prepend("<p>Доданий абзац на початок блоку</p>");

      $("#clone_demo").click(function () {
        let clone = $(this).clone();
        clone.text("Це клон кнопки");
        $("body").append(clone);
      });

      $("#height_demo").height(function (index, currentHeight) {
        return currentHeight + 20;
      });

      $("#outerHeight_demo").click(function () {
        let h = $(this).outerHeight();
        alert("Повна висота елемента: " + h + "px");
      });
    });

    $(document).ready(function () {
      $("#btn_children").click(function () {
        let childrenCount = $("#parent_div").children().length;
        $("#result").text("Кількість дочірніх елементів: " + childrenCount);
      });

      $("#btn_is").click(function () {
        let isSpecial = $("#check_div").is(".special");
        $("#result").text("#check_div має клас 'special'? " + isSpecial);
      });

      $("#btn_parents").click(function () {
        let parentsList = $("#child_div")
          .parents()
          .map(function () {
            return this.tagName;
          })
          .get()
          .join(", ");
        $("#result").text("Список батьківських елементів: " + parentsList);
      });

      $("#btn_closest").click(function () {
        let closestDiv = $("#child_div").closest("div").attr("id");
        $("#result").text("Найближчий div до #child_div: " + closestDiv);
      });

      $("#btn_parentsUntil").click(function () {
        let parentsUntil = $("#child_div")
          .parentsUntil("#stop_div")
          .map(function () {
            return this.tagName;
          })
          .get()
          .join(", ");
        $("#result").text("Батьки до #stop_div: " + parentsUntil);
      });
    });

    $(document).ready(function () {
      $("#btn_filter_class").click(function () {
        $(".filter-item")
          .filter(function () {
            return true;
          })
          .css({
            color: "white",
            "background-color": "green",
            fontWeight: "bold",
          })
          .append(" modify");
      });

      $("#btn_filter_every3").click(function () {
        $("#task4_list li")
          .filter(function (index) {
            return (index + 1) % 3 === 0;
          })
          .css({
            color: "white",
            "background-color": "orange",
            fontStyle: "italic",
          })
          .append(" modify");
      });

      $("#btn_extend").click(function () {
        let obj1 = { a: 1, b: 2 };
        let obj2 = { b: 3, c: 4 };
        let result = $.extend({}, obj1, obj2);
        $("#task5_result").append(
          "<p>$.extend: " + JSON.stringify(result) + "</p>"
        );
      });

      $("#btn_fn_extend").click(function () {
        $.fn.extend({
          highlight: function () {
            return this.css("background-color", "yellow");
          },
        });
        $("#task4_list li").highlight();
        $("#task5_result").append(
          "<p>$.fn.extend: усі li підсвічені жовтим</p>"
        );
      });

      $("#btn_globalEval").click(function () {
        let code = 'console.log("Виконано $.globalEval");';
        $.globalEval(code);
        $("#task5_result").append(
          "<p>$.globalEval: код виконано в консолі</p>"
        );
      });

      $("#btn_grep").click(function () {
        let numbers = [1, 2, 3, 4, 5, 6, 7, 8];
        let evens = $.grep(numbers, function (n) {
          return n % 2 === 0;
        });
        let greaterThan4 = $.grep(numbers, function (n) {
          return n > 4;
        });
        let lessThan3 = $.grep(numbers, function (n) {
          return n < 3;
        });
        let divisibleBy3 = $.grep(numbers, function (n) {
          return n % 3 === 0;
        });
        let notDivisibleBy2 = $.grep(numbers, function (n) {
          return n % 2 !== 0;
        });

        $("#task5_result").append("<p>$.grep (even): " + evens + "</p>");
        $("#task5_result").append("<p>$.grep (>4): " + greaterThan4 + "</p>");
        $("#task5_result").append("<p>$.grep (<3): " + lessThan3 + "</p>");
        $("#task5_result").append("<p>$.grep (%3): " + divisibleBy3 + "</p>");
        $("#task5_result").append(
          "<p>$.grep (not %2): " + notDivisibleBy2 + "</p>"
        );
      });
    });
  </script>
</html>
